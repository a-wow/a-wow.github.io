(function($){'use strict';$.jInvertScroll=function(sel,options){var defaults={width:'auto',height:'auto',onScroll:function(percent){}};var config=$.extend(defaults,options);if(typeof sel==='Object'&&sel.length>0){return;}var elements=[],longest=0,totalHeight,winHeight,winWidth;function init(){$.each(sel,function(i,val){$(val).each(function(e){elements.push($(this));var w=$(this).width();if(longest<w){longest=w;}});});if(config.width=='auto'){config.width=longest;}if(config.height=='auto'){config.height=longest;}$('body').css('height',config.height+'px');}function calc(){totalHeight=$(document).height();winHeight=$(window).height();winWidth=$(window).width();}function onscroll(e){var currY=$(this).scrollTop();calc();var diff=totalHeight-winHeight;var scrollPercent=0;if(diff!=0){scrollPercent=(currY/diff).toFixed(4);}if(typeof config.onScroll==='function'){config.onScroll.call(this,scrollPercent);}$.each(elements,function(i,el){var deltaW=el.width()-winWidth;if(deltaW<=0){deltaW=el.width();}var pos=Math.floor(deltaW*scrollPercent)*-1;el.css('left',pos);});}function setlisteners(){$(window).on('scroll resize',onscroll);$([document,window]).on('ready resize',calc);}init();setlisteners();return{reinitialize:function(){init();setlisteners();},destroy:function(){$('body').attr('style','');$(window).off('scroll resize',onscroll);$([document,window]).off('ready resize',calc);}};};}(jQuery));